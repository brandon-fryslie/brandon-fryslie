<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 260" width="800" height="260">
  <defs>
    <!-- Terminal green glow -->
    <filter id="terminal-glow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- Strong glow for highlights -->
    <filter id="strong-glow">
      <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="800" height="260" fill="#0a0a0a"/>

  <!-- Main terminal window -->
  <rect x="50" y="40" width="500" height="180" rx="6" fill="#000000" stroke="#00ff41" stroke-width="2" filter="url(#terminal-glow)"/>

  <!-- Terminal header bar -->
  <rect x="50" y="40" width="500" height="25" rx="6" fill="#001a0a"/>
  <text x="70" y="58" font-family="monospace" font-size="11" fill="#00ff41" opacity="0.8">ptydriver: virtual terminal</text>

  <!-- Terminal "text" lines (abstract representation) -->
  <g opacity="0.7">
    <rect x="65" y="80" width="60" height="3" fill="#00ff41" rx="1">
      <animate attributeName="opacity" values="0.5;0.8;0.5" dur="11s" repeatCount="indefinite"/>
    </rect>
    <rect x="130" y="80" width="40" height="3" fill="#00ff41" rx="1"/>
    <rect x="175" y="80" width="80" height="3" fill="#00ff41" rx="1"/>

    <rect x="65" y="95" width="90" height="3" fill="#00ff41" rx="1"/>
    <rect x="160" y="95" width="50" height="3" fill="#00ff41" rx="1"/>
    <rect x="215" y="95" width="60" height="3" fill="#00ff41" rx="1">
      <animate attributeName="opacity" values="0.5;0.8;0.5" dur="13s" begin="2s" repeatCount="indefinite"/>
    </rect>

    <rect x="65" y="110" width="70" height="3" fill="#00ff41" rx="1"/>
    <rect x="140" y="110" width="100" height="3" fill="#00ff41" rx="1"/>

    <!-- Pattern match highlight line -->
    <rect x="65" y="125" width="150" height="3" fill="#ffff00" rx="1" filter="url(#strong-glow)">
      <animate attributeName="opacity" values="0.3;1;0.3" dur="7s" repeatCount="indefinite"/>
    </rect>

    <rect x="65" y="140" width="80" height="3" fill="#00ff41" rx="1">
      <animate attributeName="opacity" values="0.5;0.8;0.5" dur="17s" begin="4s" repeatCount="indefinite"/>
    </rect>
    <rect x="150" y="140" width="60" height="3" fill="#00ff41" rx="1"/>

    <rect x="65" y="155" width="110" height="3" fill="#00ff41" rx="1"/>

    <rect x="65" y="170" width="45" height="3" fill="#00ff41" rx="1"/>
    <rect x="115" y="170" width="70" height="3" fill="#00ff41" rx="1"/>

    <rect x="65" y="185" width="90" height="3" fill="#00ff41" rx="1">
      <animate attributeName="opacity" values="0.5;0.8;0.5" dur="19s" begin="6s" repeatCount="indefinite"/>
    </rect>
    <rect x="160" y="185" width="55" height="3" fill="#00ff41" rx="1"/>
  </g>

  <!-- Cursor (blinking) -->
  <rect x="275" y="170" width="8" height="12" fill="#00ff41" filter="url(#terminal-glow)">
    <animate attributeName="opacity" values="1;0;1" dur="1.5s" repeatCount="indefinite"/>
  </rect>

  <!-- Send keystroke arrow (from outside terminal) -->
  <g id="keystroke-inject">
    <line x1="30" y1="150" x2="50" y2="150" stroke="#00aaff" stroke-width="2" opacity="0.6"/>
    <polygon points="50,150 45,147 45,153" fill="#00aaff" opacity="0.6"/>
    <text x="20" y="145" font-family="monospace" font-size="9" fill="#00aaff" opacity="0.8" text-anchor="end">SEND</text>
    <!-- Animate keystroke injection -->
    <circle cx="25" cy="150" r="3" fill="#00aaff" filter="url(#strong-glow)">
      <animate attributeName="opacity" values="0;1;0" dur="7s" repeatCount="indefinite"/>
    </circle>
  </g>

  <!-- Pattern matching sweep effect -->
  <rect x="65" y="120" width="0" height="8" fill="#ffff00" opacity="0.3">
    <animate attributeName="width" values="0;150;0" dur="13s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0;0.5;0" dur="13s" repeatCount="indefinite"/>
  </rect>

  <!-- Secondary terminal (ProcessPool representation) -->
  <rect x="600" y="120" width="180" height="100" rx="4" fill="#000000" stroke="#00ff41" stroke-width="1.5" opacity="0.7" filter="url(#terminal-glow)"/>
  <rect x="600" y="120" width="180" height="18" rx="4" fill="#001a0a" opacity="0.7"/>
  <text x="610" y="133" font-family="monospace" font-size="9" fill="#00ff41" opacity="0.6">ProcessPool [1]</text>

  <!-- ProcessPool terminal content (smaller) -->
  <g opacity="0.5">
    <rect x="610" y="145" width="40" height="2" fill="#00ff41" rx="1"/>
    <rect x="655" y="145" width="30" height="2" fill="#00ff41" rx="1"/>
    <rect x="610" y="155" width="50" height="2" fill="#00ff41" rx="1"/>
    <rect x="610" y="165" width="35" height="2" fill="#00ff41" rx="1"/>
    <rect x="650" y="165" width="40" height="2" fill="#00ff41" rx="1"/>
    <rect x="610" y="175" width="45" height="2" fill="#00ff41" rx="1">
      <animate attributeName="opacity" values="0.3;0.7;0.3" dur="11s" repeatCount="indefinite"/>
    </rect>
  </g>

  <!-- Second ProcessPool instance -->
  <rect x="600" y="40" width="180" height="60" rx="4" fill="#000000" stroke="#00ff41" stroke-width="1.5" opacity="0.5" filter="url(#terminal-glow)"/>
  <rect x="600" y="40" width="180" height="18" rx="4" fill="#001a0a" opacity="0.5"/>
  <text x="610" y="53" font-family="monospace" font-size="9" fill="#00ff41" opacity="0.4">ProcessPool [2]</text>

  <g opacity="0.3">
    <rect x="610" y="65" width="35" height="2" fill="#00ff41" rx="1"/>
    <rect x="650" y="65" width="40" height="2" fill="#00ff41" rx="1"/>
    <rect x="610" y="75" width="50" height="2" fill="#00ff41" rx="1">
      <animate attributeName="opacity" values="0.2;0.5;0.2" dur="13s" begin="3s" repeatCount="indefinite"/>
    </rect>
  </g>

  <!-- Connection lines showing parallel execution -->
  <line x1="550" y1="130" x2="600" y2="170" stroke="#00aaff" stroke-width="1" stroke-dasharray="3,3" opacity="0.4"/>
  <line x1="550" y1="130" x2="600" y2="70" stroke="#00aaff" stroke-width="1" stroke-dasharray="3,3" opacity="0.4"/>

  <!-- Buffer representation (2D screen grid visualization) -->
  <g opacity="0.4">
    <rect x="70" y="200" width="3" height="3" fill="#00ff41"/>
    <rect x="77" y="200" width="3" height="3" fill="#00ff41"/>
    <rect x="84" y="200" width="3" height="3" fill="#00ff41"/>
    <rect x="91" y="200" width="3" height="3" fill="#00ff41"/>
    <text x="100" y="205" font-family="monospace" font-size="8" fill="#00ff41" opacity="0.6">2D screen buffer (pyte)</text>
  </g>

  <!-- Labels -->
  <text x="400" y="25" font-family="monospace" font-size="12" fill="#00ff41" text-anchor="middle" opacity="0.8">PTY AUTOMATION</text>
  <text x="30" y="250" font-family="monospace" font-size="10" fill="#00ff41" opacity="0.6">KEYSTROKE INJECTION</text>
  <text x="720" y="250" font-family="monospace" font-size="10" fill="#00ff41" opacity="0.6">PARALLEL POOL</text>
</svg>
